<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Develop</title>
        <link rel="stylesheet" href="./theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="./">pgcli </a></h1>
                <nav><ul>
                    <li><a href="./index">pgcli</a></li>
                    <li><a href="./install">Install</a></li>
                    <li><a href="./features">Features</a></li>
                    <li><a href="./faq">FAQ</a></li>
                    <li class="active"><a href="./develop">Develop</a></li>
                    <li><a href="./thanks">Thanks</a></li>
                    <li><a href="./about">About</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
    <h1 class="entry-title">Develop</h1>
    
    <p>This is a guide for developers who would like to contribute to this project.</p>
<p>First of all I'm flattered that you're interested in contributing. Second, my
heart felt thanks for contributing.</p>
<div class="section" id="github-workflow">
<h2>GitHub Workflow</h2>
<p>The source code is hosted by Github: <a class="reference external" href="https://github.com/amjith/pgcli">https://github.com/amjith/pgcli</a></p>
<p>If you already know how to fork a project and send pull requests to it using
github, you can safely skip this section.</p>
<p>Github help has a pretty detailed documentation on how to use Github to fork
and send pull requests to a repository.
<a class="reference external" href="https://help.github.com/articles/fork-a-repo/">https://help.github.com/articles/fork-a-repo/</a></p>
<p>The basic steps are:</p>
<ol class="arabic">
<li><p class="first">Fork the <a class="reference external" href="https://github.com/amjith/pgcli">pgcli</a> project via the github UI.</p>
</li>
<li><p class="first">Clone your fork to your local machine.</p>
<pre class="code bash literal-block">
git clone git&#64;github.com:&lt;your-username&gt;/pgcli.git
</pre>
</li>
<li><p class="first">Setup a remote called upstread that points to the original pgcli repo. This
is to keep your fork in sync with the mainline.</p>
<pre class="code bash literal-block">
git remote add upstream git&#64;github.com:amjith/pgcli.git
</pre>
</li>
<li><p class="first">Make the necessary changes in your local machine. Commit and push to your
fork.</p>
<pre class="code bash literal-block">
<span class="nv">$ </span>git commit

<span class="nv">$ </span>git push origin
</pre>
</li>
<li><p class="first">Create a pull request from your fork to the mainline repo using Github UI.</p>
</li>
<li><p class="first">Sync with the main pgcli repo.</p>
<pre class="code bash literal-block">
<span class="nv">$ </span>git pull upstream master   <span class="c"># Pull from the main repo to local copy.
</span>
<span class="nv">$ </span>git push origin master     <span class="c"># Pushes from local copy to your fork.</span>
</pre>
</li>
</ol>
</div>
<div class="section" id="local-development-setup">
<h2>Local Development Setup</h2>
<p>It is highly recommended to use virtualenv for development. If you don't know
what a virtualenv is, this <a class="reference external" href="http://docs.python-guide.org/en/latest/dev/virtualenvs/#virtual-environments">guide</a>
will help you get started.</p>
<p>Create a virtualenv (let's call it pgcli-dev). Once the virtualenv is activated
<tt class="docutils literal">cd</tt> into the local clone of pgcli folder and install pgcli using pip as
follows:</p>
<pre class="code bash literal-block">
<span class="nv">$ </span>pip install --editable .

or

<span class="nv">$ </span>pip install -e .
</pre>
<p>This will install the necessary dependencies as well as install pgcli from the
working folder into the virtualenv. By installing it using <tt class="docutils literal">pip install <span class="pre">-e</span></tt>
we've linked the pgcli installation with the working copy. So any changes made
to the code is immediately available in the installed version of pgcli. This
makes it easy to change something in the code, launch pgcli and check the
effects of your change.</p>
</div>
<div class="section" id="tests">
<h2>Tests</h2>
<p>The tests are located in the <tt class="docutils literal">tests</tt> directory in the pgcli project root.</p>
<p>Tests are written using <a class="reference external" href="http://pytest.org/latest/">py.test</a> testing framework. Install <tt class="docutils literal">py.test</tt> by
using <tt class="docutils literal">pip install pytest</tt> in the virtualenv. Then execute the tests by
calling <tt class="docutils literal">py.test</tt> from the root of the project folder.</p>
<p>A test runner called <tt class="docutils literal">tox</tt> is used to run the tests in Python 2.6, Python 2.7
and Python 3.3. You can do <tt class="docutils literal">pip install tox</tt> and call <tt class="docutils literal">tox</tt> from the
project root to run the tests in all 3 python versions.</p>
<p>If you'd like to run just one of the test files (say test_sqlcompletion.py)
then <tt class="docutils literal">cd</tt> into the tests folder and execute <tt class="docutils literal">py.test test_sqlcompletion.py</tt>
to run just the tests from that file or <tt class="docutils literal">tox test_sqlcompletion.py</tt> to run
the tests in that file in all three Python versions.</p>
<p>The tests are also run via <a class="reference external" href="https://travis-ci.org/amjith/pgcli">Travis CI</a> when a new Pull Request is opened. If
you have a change and it happens to be failing on one of the Python version
(typically on Python 3), don't worry about it. Just open a pull request and we
can help you get it fixed before merging.</p>
</div>

</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="http://twitter.com/amjithr">twitter</a></li>
                            <li><a href="http://github.com/amjith/pgcli">github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-58061452-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>